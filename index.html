<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Palindrome Birthday</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <nav class="nav-bar">
    <div class ="nav-heading">IAmDeveloper</div> 
    <ul class="nav-pills">
      <li class="nav-pill-items"> <a class="link" href="https://aritraportfolio.netlify.app/project.html" target="_blank">projects</a></li>
      <li class="nav-pill-items"> <a class="link" href="https://aritraportfolio.netlify.app/about.html" target="_blank">about</a></li>
    </ul>
  </nav>
  <div class="container">
    <h1 class="heading">Palindrome Birthday</h1>
    <label for="date-input">Enter Birthday</label>
    <input type="date" id="date-input">
    <span class="button">
      <button class="check">Check Now</button>
      <button class="clear">Clear</button>
    </span>
    <p class="output"></p>
    
  </div>

  <footer class="footer">
    <p class="footer-header">connect to me</p>
    <ul class="footer-pills">
    <li class="footer-items"><a class="footer-link" href="https://github.com/Aritra-art" target="_blank"><img src="./images/github.svg" ></a></li>
    <li class="footer-items"><a href="https://twitter.com/Raj_chowdhury10" target="_blank"><img src="./images/twitter.svg" ></a></li>
    <li class="footer-items"><a href="https://www.linkedin.com/in/aritra-chowdhury-b95a66227/" target="_blank"><img src="./images/linkedin.svg" ></a></li>
    <li class="footer-items"><a href="https://t.me/Aritra_chowdhury" target="_blank"><img src="./images/telegram.svg" ></a></li>
    </ul>
    <p class="privacy">Â© 2022 | <a class="name"href="https://aritraportfolio.netlify.app/" target="_blank">aritrachowdhury</a></p>
  </footer>
  
</body>
<script>

  function reverse(str){
    var charList = str.split("");
    var reverseList = charList.reverse();
    var reversedStr = reverseList.join("");

    return reversedStr;
  }

  function checkPalindrome(str){
    var reversedStr = reverse(str);
    if(str === reversedStr){
      return true;
    }
    return false;
  }

  

  function dateToStr(date){
    var dateStr = {
      day:'',
      month:'',
      year:''
    }
     if(date.day < 10){
       dateStr.day = '0'+ date.day;
     }else {
       dateStr.day = date.day.toString();
     }
     if(date.month <10){
       dateStr.month = '0'+ date.month;
     }else{
       dateStr.month = date.month.toString();
     }
     dateStr.year = date.year.toString();

    return dateStr;
  }

function getAllDateFormats(date){
    var dateStr = dateToStr(date);
    var ddmmyyyy = dateStr.day + dateStr.month + dateStr.year;
    var mmddyyyy = dateStr.month + dateStr.day + dateStr.year;
    var yyyymmdd = dateStr.year + dateStr.month + dateStr.day;
    var ddmmyy = dateStr.day + dateStr.month + dateStr.year.slice(-2);
    var mmddyy = dateStr.month + dateStr.day + dateStr.year.slice(-2);
    var yymmdd = dateStr.year.slice(-2) + dateStr.month + dateStr.day;

    return [ddmmyyyy, mmddyyyy , yyyymmdd , ddmmyy , mmddyy , yymmdd];
  }

function checkPalindromeForAllDateFormats(date){
  var listOfPalindromes = getAllDateFormats(date);
  var flag = false;
  for(var i=0;i< listOfPalindromes.length;i++){
    if(checkPalindrome(listOfPalindromes[i])){
      flag = true;
      break;
    }
  }
  return flag;
}

function nextPalindrome(date){
  var ctr = 0;
  var nextDate = dayIncrement(date);
  while(1){
    ctr++;
    var isPalindrome = checkPalindromeForAllDateFormats(nextDate);
    if(isPalindrome){
      break;
    }
    nextDate = dayIncrement(nextDate);
  }
  return [ctr, nextDate]
}
function isLeapYear(year){
  if(year % 400 === 0 ){
    return true;
  }
  if(year % 4 === 0 && year %100 != 0){
    return true;
  }else {
    return false;
  }
  
}

function dayIncrement(date){
  var day = date.day +1;
  var month = date.month;
  var year = date.year;

  var daysInMonth = [31,28,31,30,31,30,31,31,30,31,30,31];

  if(month === 2){
    if(isLeapYear(year)){
      if(day >29){
        day =1;
        month ++;
      }
    }else{
      if(day>28){
        day =1;
        month++;
      }
    }
  }
  else{
    if(day > daysInMonth[month - 1]){
      day = 1;
      month ++;
    }
  }
  if(month > 12){
    month = 1;
    year ++;
  }
  return {
    day : day,
    month : month,
    year : year
  };
}

var date = {
    day:11,
    month:2,
    year:2020
  };


console.log(checkPalindromeForAllDateFormats(date));

var dateInput = document.querySelector("#date-input");
var check = document.querySelector(".check");
var clear = document.querySelector(".clear");
var showDisplay = document.querySelector(".output")

clear.addEventListener("click", clearEventHandler);
check.addEventListener("click", checkEventHandler);

function clearEventHandler(){
  window.location.reload();
}

function checkEventHandler(){
  if(dateInput.value != ""){
    showDisplay.style.display = "none"
    console.log(dateInput.value);
    }else{
    showDisplay.innerText = "Please enter your birth-day"
  }
}


</script>
</html>